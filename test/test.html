<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>custom-product component test</title>
  <link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.4.0.css">
  <script src="https://code.jquery.com/qunit/qunit-2.4.0.js"></script>
  <link rel="import" href="../custom-product.html">
  
  <script>
    QUnit.test("checking if href attr of <a>  was populated with detailUrl attribute objFromServer", function( assert ) {
        const fixture = document.getElementById("qunit-fixture");
        const customProduct = fixture.querySelector('custom-product');

        const objFromServer = {
            businessId:"1680698",
            name:"Tablet AOC Breeze 2 MW0821BR8 com 8GB, Wi-Fi, Bluetooth, Leitor de Cartão, Mini HDMI, Câmera 3MP, Tela 8\" e Android 2.3",
            imageName:"//imagens.pontofrio.com.br/Control/ArquivoExibir.aspx?IdArquivo=6124117",
            detailUrl:"//www.pontofrio.com.br/tablets/Tablet/TabletAndroid/Tablet-AOC-Breeze-2-MW082…th-Leitor-de-Cartao-Mini-HDMI-Camera-3MP-Tela-8-e-Android-2-3-1680698.html",
            price:"R$ 599,00",
            oldPrice:"R$ 799,00",
            productInfo:{
                paymentConditions:"ou <strong>12X</strong> de <strong> 49.92</strong>"
            }
        };

        customProduct.setProductInfo(objFromServer);
        
        const tagA = customProduct.shadowRoot.querySelector('a');
        assert.equal(tagA.getAttribute('href'), objFromServer.detailUrl);
    });
  </script>
</head>
<body>
 
<div id="qunit"></div>
<div id="qunit-fixture">
    <custom-product></custom-product>
</div>
</body>
</html>